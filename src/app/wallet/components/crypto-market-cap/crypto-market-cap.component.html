<meta name="viewport" content="width=device-width,user-scalable=no" />
<header class="cover-crypto-market-cap">
  <meta name="description" content="Discover the best options in the cryptocurrency market and maximize your investments.">
  <div
    class="row "

  >
    <div
      class="col-4 d-flex justify-content-center d-none d-sm-block"
  
    >
      <img  class="cover-market-cap" src="assets/Images/crypto-market-cap-cov.png" />
    </div>
    <div class="col justify-content-center global d-none d-sm-block">
      <h1 class="row crypto-market-cap-title">{{'Cryptolist.title'| translate}}</h1>
      
      <div class="row market-cap-in-number">{{globalMarketCap?.data?.total_market_cap | currency:'USD':'symbol':'1.0-0'}}</div>
    </div>
  </div>
  <div class="d-block d-sm-none" style="margin-top: 20%;
  text-align: center; justify-items: center;">
    <div class="row text-mobile" style="color: #4048FF;font-size: 32px;"> {{'Cryptolist.title.mobile'| translate}}</div>
    <div class="row text-mobile" style="font-weight: 400;
    font-size: 16px;color: #1F2337;margin-top: 3%; margin-left: 12%; width: 70%;">{{'Cryptolist.description.mobile'| translate}}</div>
  </div>
</header>
<div class="container-fluid page-content">
  <div style="position: relative;">
  <input
    id="search-query"
    [(ngModel)]="searchQuery"
    class="search-query d-flex  mt-3"
    type="text"
    name="search"
    placeholder="Search token "
  />
  <span *ngIf="searchQuery" class="clear-icon" (click)="clear()">x</span>
</div>
  <div class="table-responsive-sm d-none d-sm-block">
    <table class="table table-sm " style="border: white;">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">{{ 'Cryptolist.name' | translate }}</th>
          <th scope="col">{{ 'Cryptolist.price' | translate }}</th>
          <th scope="col d-none d-sm-block">1H%</th>
          <th scope="col">24H%</th>
          <th scope="col d-none d-sm-block">{{ 'Cryptolist.7d' | translate }}</th>
          <th scope="col d-none d-sm-block">{{ 'Cryptolist.volume' | translate }}</th>
          <th scope="col d-none d-sm-block">{{ 'Cryptolist.last7d' | translate }}</th>
        </tr>
      </thead>
      <tbody>
        <tr class="crypto-row" *ngFor="let crypto of filterCryptos(); let i = index" 
        (click)="cryptoDtlails(crypto[0])" >
        <ng-container *ngIf="sparklineIn7dCryptoList && crypto">
          <th class="align-middle range " scope="row">{{ getNumberWithLeadingZeros(crypto[1]?.cmc_rank) }}</th>
         
          <td class="align-middle">
            <img
              class="Icons"
              *ngIf="crypto[1].logo"
              [src]="crypto[1].logo"
              alt="logo de la crypto-monnaie {{crypto[1]?.name}}"
              style="height: 30px; width: 30px;"
            />
            {{ crypto[1]?.name }}
            <span class="crypto-symbol">
              {{ crypto[0] }}
            </span>
           
          </td>
          <td class="align-middle">
             {{ crypto[1].price | currency:'USD':'symbol':'1.0-9' }}
          </td>
          <td
            class="align-middle"
            [ngStyle]="{
              color: getColor( crypto[1]?.percent_change_1h)
            }"
          >
            <span *ngIf=" crypto[1]?.percent_change_1h > 0"
              >+</span
            >
            {{
               crypto[1]?.percent_change_1h | number: '1.0-2'
            }}%
          </td>
          <td
            class="align-middle"
            [ngStyle]="{ color: getColor( crypto[1]?.percent_change_24h) }"
          >
            <span *ngIf=" crypto[1]?.percent_change_24h > 0">+</span>
            {{  crypto[1]?.percent_change_24h | number: '1.0-2' }}%
          </td>
          <td
            class="align-middle"
            [ngStyle]="{
              color: getColor( crypto[1]?.percent_change_7d)
            }"
          >
            <span *ngIf=" crypto[1]?.percent_change_7d > 0"
              >+</span
            >
            {{
               crypto[1]?.percent_change_7d | number: '1.0-2'
            }}%
          </td>
          <td class="align-middle">{{  crypto[1]?.volume_24h | currency:'USD':'symbol':'1.0-0' }}</td>
        <ng-container *ngIf="sparklineIn7dCryptoList[i]"> 
            <td>
        
              <canvas
                baseChart
                [datasets]="[
                  {
                    data: sparklineIn7dCryptoList[i],
                    borderColor: getColor(crypto[1].percent_change_7d),
                    borderWidth: 3,
                    fill: false,
                    backgroundColor: 'transparent'
                  }
                ]"
                [labels]="sparklineIn7dCryptoList[1]"
                [options]="lineChartOptions"
                [legend]="lineChartLegend"
                [chartType]="lineChartType"
              ></canvas>
            </td>
          </ng-container>
          </ng-container>
        </tr>
      </tbody>
    </table>
  </div>
<!----------- mobile ------>
  <div class="table-responsive-sm d-block d-sm-none">
    <table class="table table-sm table-hover" style="border: white;">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">{{'Cryptolist.name'| translate}}</th>
          <th scope="col"> {{'Cryptolist.price'| translate}}</th>
          <th scope="col" style="text-align: center;">24H%</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let crypto of filterCryptos(); let i = index">
          <th class="align-middle range" scope="row">{{ getNumberWithLeadingZeros(i) }}</th>
          <td class="align-middle" style="text-transform: uppercase">
            <img
              class="Icons"
              *ngIf="crypto[1].logo"
              [src]="crypto[1].logo"
              alt=""
              style="height: 32px; width: 32px; "
            />
            {{ crypto[0] }}
          </td>
          <td class="align-middle"  style="font-weight: 600;">
            {{ crypto[1].price | currency:'USD':'symbol':'1.0-9' }}
          </td>

          <td
            class="align-middle "
            
            [style.color]="getColor( crypto[1]?.percent_change_24h)"
            >
            <div class="percentage-24h" [ngStyle]="{'background':  crypto[1]?.percent_change_24h > 0?'rgba(50, 236, 194, 0.1)' : '#FFECF4'}">
            <span *ngIf=" crypto[1]?.percent_change_24h > 0">+</span>
            {{  crypto[1]?.percent_change_24h | number: '1.0-2' }}%
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
<!----------- mobile ------>

</div>
